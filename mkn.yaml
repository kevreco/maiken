

name: mkn
version: master
scm: https://github.com/dekken/maiken

property:
    DATE: 21-AUG-2017
    mkn.kul.profile: "@" # change to "c++0x" for < c++11

parent: base
mode: none

profile:
  - name: base
    inc: ./inc
    dep: 
      - name: mkn.kul
        version: master
        profile: ${mkn.kul.profile}
      - name: parse.yaml
        version: master
    src: ./src/maiken
    main: main.cpp
    arg: -D_MKN_VERSION_=${version}_${DATE}
    if_arg:
        win_shared: -DYAML_CPP_DLL

  - name: static
    parent: base
    mode: static

  - name: shared
    parent: base
    mode: shared 

  - name: mod
    inc: ./inc
    dep: 
      - name: mkn.kul
        version: master
        profile: ${mkn.kul.profile}
      - name: parse.yaml
        version: master
        profile: cmn

  - name: lib
    parent: base
    if_arg:
        win_shared: -DKUL_SHARED -DKUL_EXPORT

  - name: server
    inc: ./inc
    src: ./src/server
    main: server.cpp
    dep:
      - name: mkn.ram
        version: master
      - name: io.cereal
        version: master
